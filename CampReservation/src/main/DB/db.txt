DROP TABLE IF EXISTS `MEMBER`;

CREATE TABLE `MEMBER` (
	`MEMBER_ID`	VARCHAR(255)	NOT null,
	`MEMBER_PW`	VARCHAR(255)	NOT NULL,
	`MEMBER_NAME`	VARCHAR(255)	NOT NULL,
	`MEMBER_PHONE`	VARCHAR(255)	NOT NULL	COMMENT '- 없이 입력',
	`MEMBER_GENDER`	VARCHAR(255)	NOT null CHECK(MEMBER_GENDER in("M","F")),
	`MEMBER_WTYPE`	VARCHAR(255)	NULL,
	`MEMBER_POINT`	INT(255)	NOT NULL	DEFAULT 0,
	`MEMBER_ADMIN`	VARCHAR(255)	NOT null CHECK(MEMBER_ADMIN in("회원","관리자"))	DEFAULT '회원'	COMMENT '관리자,회원'
);

DROP TABLE IF EXISTS `CAMP`;

CREATE TABLE `CAMP` (
	`CAMP_ID`	INT(255)	NOT null primary key,
	`CAMP_NAME`	VARCHAR(255)	NOT NULL,
	`CAMP_ONE`	VARCHAR(255)	NULL,
	`CAMP_INFO`	VARCHAR(255)	NULL,
	`CAMP_OPEN`	VARCHAR(255)	NULL,
	`CAMP_CHAR`	VARCHAR(255)	NULL,
	`CAMP_SE`	VARCHAR(255)	NOT NULL,
	`CAMP_LOC`	VARCHAR(255)	NULL,
	`CAMP_ADDR`	VARCHAR(255)	NOT NULL,
	`CAMP_PHONE`	VARCHAR(255)	NOT NULL,
	`CAMP_WEB`	VARCHAR(255)	NOT NULL,
	`CAMP_IMG`	VARCHAR(255)	NOT NULL,
	`CAMP_PRICE`	INT(255)	NOT NULL	DEFAULT 20000	COMMENT '선결제',
	`CAMP_LAT`	FLOAT(255,7)	NOT NULL,
	`CAMP_LONG`	FLOAT(255,7)	NOT NULL
);

DROP TABLE IF EXISTS `RESERVATION`;

CREATE TABLE `RESERVATION` (
	`RESER_ID`	INT(255)	NOT null auto_increment primary key,
	`RESER_DATE`	DATETIME	NOT null DEFAULT CURRENT_TIMESTAMP,
	`RESER_NAME`	VARCHAR(255)	NOT NULL,
	`RESER_PHONE`	VARCHAR(255)	NOT NULL,
	`RESER_REQ`	VARCHAR(255)	NULL,
	`RESER_PERSON`	INT(255)	NOT NULL	DEFAULT 2,
	`MEMBER_ID`	VARCHAR(255)	NOT NULL,
	`CAMP_ID`	INT(255)	NOT NULL
);

DROP TABLE IF EXISTS `MARKET`;

CREATE TABLE `MARKET` (
	`MAR_NUM`	INT(255)	NOT null auto_increment primary key	COMMENT 'AUTO INCREMENT',
	`MAR_TITLE`	VARCHAR(255)	NOT NULL,
	`MAR_NAME`	VARCHAR(255)	NOT NULL,
	`MAR_DATE`	DATETIME	NOT NULL	DEFAULT CURRENT_TIMESTAMP	COMMENT '작성일 및 수정일이 오늘이 default 값이 되도록한다.',
	`MAR_CONTENT`	VARCHAR(255)	NOT NULL,
	`MAR_PRICE`	INT(255)	NOT NULL	DEFAULT 0,
	`MAR_HIT`	INT(255)	NOT NULL	DEFAULT 0,
	`MEMBER_ID`	VARCHAR(255)	NOT NULL
);

DROP TABLE IF EXISTS `COMMUNITY`;

CREATE TABLE `COMMUNITY` (
	`COM_NUM`	INT(255)	NOT null auto_increment primary key	COMMENT 'AUTO INCREMENT',
	`COM_TITLE`	VARCHAR(255)	NOT NULL,
	`COM_DATE`	DATETIME	NOT NULL	DEFAULT CURRENT_TIMESTAMP	COMMENT '작성일 및 수정일이 오늘이 default 값이 되도록한다.',
	`COM_CONTENT`	VARCHAR(255)	NOT NULL,
	`COM_HIT`	INT(255)	NOT NULL	DEFAULT 0,
	`MEMBER_ID`	VARCHAR(255)	NOT NULL
);

DROP TABLE IF EXISTS `REVIEW`;

CREATE TABLE `REVIEW` (
	`RE_NUM`	INT(255)	NOT null auto_increment primary key		COMMENT 'AUTO INCREMENT',
	`CAMP_ID`	INT(255)	NOT NULL,
	`RE_DATE`	DATETIME	NOT NULL	DEFAULT CURRENT_TIMESTAMP	COMMENT '작성일 및 수정일이 오늘이 default 값이 되도록한다.',
	`RE_CONTENT`	VARCHAR(255)	NOT NULL,
	`MEMBER_ID`	VARCHAR(255)	NOT NULL
);

DROP TABLE IF EXISTS `COMMENT`;

CREATE TABLE `COMMENT` (
	`COT_NUM`	INT(255)	NOT null auto_increment primary key		COMMENT 'AUTO INCREMENT',
	`COT_DATE`	DATETIME	NOT NULL	DEFAULT CURRENT_TIMESTAMP	COMMENT '작성일 및 수정일이 오늘이 default 값이 되도록한다.',
	`COT_CONTENT`	VARCHAR(255)	NOT NULL,
	`COM_NUM`	INT(255)	NOT NULL,
	`MEMBER_ID`	VARCHAR(255)	NOT NULL
);

DROP TABLE IF EXISTS `LIKE`;

CREATE TABLE `LIKE` (
	`MEMBER_ID`	VARCHAR(255)	NOT NULL,
	`CAMP_ID`	INT(255)	NOT NULL
);

DROP TABLE IF EXISTS `CAMP_IMAGE`;

CREATE TABLE `CAMP_IMAGE` (
	`IMAGE_ID`	INT(255)	NOT null auto_increment primary key		COMMENT 'AUTO INCREMENT',
	`IMG`	VARCHAR(255)	NULL,
	`CAMP_ID`	INT(255)	NOT NULL
);

ALTER TABLE `MEMBER` ADD CONSTRAINT `PK_MEMBER` PRIMARY KEY (
	`MEMBER_ID`
);

ALTER TABLE `CAMP` ADD CONSTRAINT `PK_CAMP` PRIMARY KEY (
	`CAMP_ID`
);

ALTER TABLE `RESERVATION` ADD CONSTRAINT `PK_RESERVATION` PRIMARY KEY (
	`RESER_ID`
);

ALTER TABLE `MARKET` ADD CONSTRAINT `PK_MARKET` PRIMARY KEY (
	`MAR_NUM`
);

ALTER TABLE `COMMUNITY` ADD CONSTRAINT `PK_COMMUNITY` PRIMARY KEY (
	`COM_NUM`
);

ALTER TABLE `REVIEW` ADD CONSTRAINT `PK_REVIEW` PRIMARY KEY (
	`RE_NUM`,
	`CAMP_ID`
);

ALTER TABLE `COMMENT` ADD CONSTRAINT `PK_COMMENT` PRIMARY KEY (
	`COT_NUM`
);

ALTER TABLE `LIKE` ADD CONSTRAINT `PK_LIKE` PRIMARY KEY (
	`MEMBER_ID`,
	`CAMP_ID`
);

ALTER TABLE `CAMP_IMAGE` ADD CONSTRAINT `PK_CAMP_IMAGE` PRIMARY KEY (
	`IMAGE_ID`
);

ALTER TABLE `REVIEW` ADD CONSTRAINT `FK_CAMP_TO_REVIEW_1` FOREIGN KEY (
	`CAMP_ID`
)
REFERENCES `CAMP` (
	`CAMP_ID`
);

ALTER TABLE `LIKE` ADD CONSTRAINT `FK_MEMBER_TO_LIKE_1` FOREIGN KEY (
	`MEMBER_ID`
)
REFERENCES `MEMBER` (
	`MEMBER_ID`
);

ALTER TABLE `LIKE` ADD CONSTRAINT `FK_CAMP_TO_LIKE_1` FOREIGN KEY (
	`CAMP_ID`
)
REFERENCES `CAMP` (
	`CAMP_ID`
);